{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { SafeAreaView as SafeAreaViewRN } from 'react-native-safe-area-context';\nimport { useRoute } from '@react-navigation/native';\nimport { useNavigation } from '@react-navigation/native';\nimport { useApp } from \"../contexts/AppContext\";\nimport { useAI } from \"../contexts/AIContext\";\nimport { dsmData, testBatteries } from \"../data/mockData\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar DiagnosisScreen = function DiagnosisScreen() {\n  var route = useRoute();\n  var navigation = useNavigation();\n  var _useApp = useApp(),\n    state = _useApp.state,\n    dispatch = _useApp.dispatch;\n  var _useAI = useAI(),\n    applyTestBattery = _useAI.applyTestBattery;\n  var caseId = route.params.caseId;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentCase = _useState2[0],\n    setCurrentCase = _useState2[1];\n  var _useState3 = useState('symptoms'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    activeTab = _useState4[0],\n    setActiveTab = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedSymptoms = _useState6[0],\n    setSelectedSymptoms = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    hypothesis = _useState8[0],\n    setHypothesis = _useState8[1];\n  var _useState9 = useState(''),\n    _useState0 = _slicedToArray(_useState9, 2),\n    selectedDiagnosis = _useState0[0],\n    setSelectedDiagnosis = _useState0[1];\n  useEffect(function () {\n    var case_ = state.cases.find(function (c) {\n      return c.id === caseId;\n    });\n    if (case_) {\n      setCurrentCase(case_);\n      setSelectedSymptoms(case_.selectedSymptoms || []);\n    }\n  }, [caseId, state.cases]);\n  useEffect(function () {\n    updateHypothesis();\n  }, [selectedSymptoms]);\n  var toggleSymptom = function toggleSymptom(symptom) {\n    var newSymptoms = selectedSymptoms.includes(symptom) ? selectedSymptoms.filter(function (s) {\n      return s !== symptom;\n    }) : [].concat(_toConsumableArray(selectedSymptoms), [symptom]);\n    setSelectedSymptoms(newSymptoms);\n    if (currentCase) {\n      dispatch({\n        type: 'UPDATE_CASE',\n        payload: {\n          id: currentCase.id,\n          updates: {\n            selectedSymptoms: newSymptoms\n          }\n        }\n      });\n    }\n  };\n  var updateHypothesis = function updateHypothesis() {\n    if (selectedSymptoms.length === 0) {\n      setHypothesis([]);\n      return;\n    }\n    var matches = [];\n    Object.entries(dsmData.disorders).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        disorder = _ref2[1];\n      var matchingSymptoms = disorder.symptoms.filter(function (s) {\n        return selectedSymptoms.includes(s);\n      });\n      if (matchingSymptoms.length > 0) {\n        var percentage = matchingSymptoms.length / disorder.criteria * 100;\n        matches.push({\n          id: key,\n          name: disorder.name,\n          match: matchingSymptoms.length,\n          total: disorder.criteria,\n          percentage: percentage,\n          symptoms: matchingSymptoms,\n          description: disorder.description,\n          duration: disorder.duration\n        });\n      }\n    });\n    matches.sort(function (a, b) {\n      return b.percentage - a.percentage;\n    });\n    setHypothesis(matches);\n  };\n  var handleApplyBattery = function () {\n    var _ref3 = _asyncToGenerator(function* (batteryId) {\n      if (!currentCase) return;\n      try {\n        var result = yield applyTestBattery(batteryId);\n        if (result) {\n          dispatch({\n            type: 'UPDATE_CASE',\n            payload: {\n              id: currentCase.id,\n              updates: {\n                batteryApplied: batteryId,\n                batteryResults: result.results\n              }\n            }\n          });\n          setTimeout(function () {\n            navigation.navigate('Chat', {\n              caseId: currentCase.id\n            });\n          }, 2000);\n        }\n      } catch (error) {\n        console.error('Error aplicando bater√≠a:', error);\n      }\n    });\n    return function handleApplyBattery(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var confirmDiagnosis = function confirmDiagnosis() {\n    if (!selectedDiagnosis || !currentCase) return;\n    var correct = selectedDiagnosis === currentCase.patient.disorder;\n    var xpGained = 50;\n    if (correct) xpGained += 100;\n    if (currentCase.sessions >= 2) xpGained += 50;\n    if (currentCase.batteryApplied) xpGained += 30;\n    if (selectedSymptoms.length >= 3) xpGained += 20;\n    dispatch({\n      type: 'UPDATE_CASE',\n      payload: {\n        id: currentCase.id,\n        updates: {\n          status: 'completed',\n          diagnosis: selectedDiagnosis,\n          diagnosisCorrect: correct\n        }\n      }\n    });\n    dispatch({\n      type: 'ADD_XP',\n      payload: xpGained\n    });\n    navigation.navigate('Results', {\n      correct: correct,\n      xpGained: xpGained,\n      diagnosis: selectedDiagnosis,\n      caseId: currentCase.id\n    });\n  };\n  var renderSymptoms = function renderSymptoms() {\n    return _jsx(ScrollView, {\n      style: styles.tabContent,\n      children: Object.entries(dsmData.categories).map(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n          category = _ref5[0],\n          symptoms = _ref5[1];\n        return _jsxs(View, {\n          style: styles.categorySection,\n          children: [_jsx(Text, {\n            style: styles.categoryTitle,\n            children: category.charAt(0).toUpperCase() + category.slice(1)\n          }), _jsx(View, {\n            style: styles.symptomsGrid,\n            children: symptoms.map(function (symptom) {\n              var isSelected = selectedSymptoms.includes(symptom);\n              return _jsx(TouchableOpacity, {\n                style: [styles.symptomButton, isSelected && styles.symptomButtonSelected],\n                onPress: function onPress() {\n                  return toggleSymptom(symptom);\n                },\n                children: _jsxs(View, {\n                  style: styles.symptomContent,\n                  children: [_jsx(Icon, {\n                    name: isSelected ? 'check-circle' : 'circle',\n                    size: 20,\n                    color: isSelected ? '#4CAF50' : '#ccc',\n                    style: styles.symptomIcon\n                  }), _jsx(Text, {\n                    style: [styles.symptomText, isSelected && styles.symptomTextSelected],\n                    children: symptom.replace('_', ' ')\n                  })]\n                })\n              }, symptom);\n            })\n          })]\n        }, category);\n      })\n    });\n  };\n  var renderHypothesis = function renderHypothesis() {\n    return _jsx(ScrollView, {\n      style: styles.tabContent,\n      children: hypothesis.length === 0 ? _jsxs(View, {\n        style: styles.emptyState,\n        children: [_jsx(Icon, {\n          name: \"search\",\n          size: 60,\n          color: \"#666\",\n          style: styles.emptyIcon\n        }), _jsx(Text, {\n          style: styles.emptyTitle,\n          children: \"Selecciona s\\xEDntomas\"\n        }), _jsx(Text, {\n          style: styles.emptySubtitle,\n          children: \"Selecciona s\\xEDntomas para ver hip\\xF3tesis diagn\\xF3sticas\"\n        })]\n      }) : hypothesis.map(function (match, index) {\n        var isTopMatch = index === 0 && match.percentage >= 60;\n        return _jsxs(View, {\n          style: [styles.hypothesisCard, isTopMatch && styles.topMatchCard],\n          children: [_jsxs(View, {\n            style: styles.hypothesisHeader,\n            children: [_jsxs(View, {\n              style: styles.hypothesisTitleContainer,\n              children: [_jsx(Text, {\n                style: styles.hypothesisName,\n                children: match.name\n              }), isTopMatch && _jsx(View, {\n                style: styles.topMatchBadge,\n                children: _jsx(Text, {\n                  style: styles.topMatchText,\n                  children: \"\\uD83D\\uDD25 Principal\"\n                })\n              })]\n            }), _jsxs(View, {\n              style: styles.matchPercentage,\n              children: [_jsx(View, {\n                style: styles.percentageBar,\n                children: _jsx(View, {\n                  style: [styles.percentageFill, {\n                    width: `${Math.min(match.percentage, 100)}%`\n                  }]\n                })\n              }), _jsxs(Text, {\n                style: styles.percentageText,\n                children: [Math.round(match.percentage), \"%\"]\n              })]\n            })]\n          }), _jsx(Text, {\n            style: styles.hypothesisDescription,\n            children: match.description\n          }), _jsxs(View, {\n            style: styles.hypothesisCriteria,\n            children: [_jsxs(Text, {\n              style: styles.criteriaText,\n              children: [match.match, \"/\", match.total, \" criterios\"]\n            }), _jsxs(Text, {\n              style: styles.durationText,\n              children: [\"Duraci\\xF3n: \", match.duration]\n            })]\n          }), _jsxs(View, {\n            style: styles.matchingSymptoms,\n            children: [_jsx(Text, {\n              style: styles.symptomsLabel,\n              children: \"S\\xEDntomas coincidentes:\"\n            }), _jsx(Text, {\n              style: styles.symptomsList,\n              children: match.symptoms.join(', ')\n            })]\n          })]\n        }, match.id);\n      })\n    });\n  };\n  var renderBatteries = function renderBatteries() {\n    return _jsx(ScrollView, {\n      style: styles.tabContent,\n      children: testBatteries.map(function (battery) {\n        var isApplied = (currentCase == null ? void 0 : currentCase.batteryApplied) === battery.id;\n        return _jsxs(View, {\n          style: styles.batteryCard,\n          children: [_jsxs(View, {\n            style: styles.batteryHeader,\n            children: [_jsx(Text, {\n              style: styles.batteryName,\n              children: battery.name\n            }), isApplied && _jsx(View, {\n              style: styles.appliedBadge,\n              children: _jsx(Text, {\n                style: styles.appliedText,\n                children: \"\\u2713 Aplicado\"\n              })\n            })]\n          }), _jsx(Text, {\n            style: styles.batteryDescription,\n            children: battery.description\n          }), _jsxs(View, {\n            style: styles.batteryMeta,\n            children: [_jsxs(Text, {\n              style: styles.batteryType,\n              children: [\"Tipo: \", battery.type]\n            }), _jsxs(Text, {\n              style: styles.batteryDuration,\n              children: [\"Duraci\\xF3n: \", battery.duration]\n            })]\n          }), (currentCase == null ? void 0 : currentCase.batteryResults) && isApplied && _jsxs(View, {\n            style: styles.batteryResults,\n            children: [_jsx(Text, {\n              style: styles.resultsLabel,\n              children: \"Resultados:\"\n            }), _jsx(Text, {\n              style: styles.resultsText,\n              children: currentCase.batteryResults\n            })]\n          }), _jsx(TouchableOpacity, {\n            style: [styles.batteryButton, isApplied && styles.batteryButtonDisabled],\n            onPress: function onPress() {\n              return handleApplyBattery(battery.id);\n            },\n            disabled: isApplied,\n            children: _jsx(Text, {\n              style: [styles.batteryButtonText, isApplied && styles.batteryButtonTextDisabled],\n              children: isApplied ? 'Aplicado' : 'Aplicar bater√≠a'\n            })\n          })]\n        }, battery.id);\n      })\n    });\n  };\n  var renderDiagnosis = function renderDiagnosis() {\n    var _dsmData$disorders$se, _hypothesis$;\n    return _jsx(ScrollView, {\n      style: styles.tabContent,\n      children: _jsxs(View, {\n        style: styles.diagnosisForm,\n        children: [_jsx(Text, {\n          style: styles.diagnosisLabel,\n          children: \"Selecciona un diagn\\xF3stico DSM-5-TR:\"\n        }), _jsx(View, {\n          style: styles.diagnosisSelect,\n          children: Object.entries(dsmData.disorders).map(function (_ref6) {\n            var _ref7 = _slicedToArray(_ref6, 2),\n              key = _ref7[0],\n              disorder = _ref7[1];\n            return _jsx(TouchableOpacity, {\n              style: [styles.diagnosisOption, selectedDiagnosis === key && styles.diagnosisOptionSelected],\n              onPress: function onPress() {\n                return setSelectedDiagnosis(key);\n              },\n              children: _jsxs(View, {\n                style: styles.diagnosisOptionContent,\n                children: [_jsx(View, {\n                  style: [styles.diagnosisRadio, selectedDiagnosis === key && styles.diagnosisRadioSelected],\n                  children: selectedDiagnosis === key && _jsx(View, {\n                    style: styles.diagnosisRadioInner\n                  })\n                }), _jsx(Text, {\n                  style: styles.diagnosisOptionText,\n                  children: disorder.name\n                })]\n              })\n            }, key);\n          })\n        }), selectedDiagnosis && _jsxs(View, {\n          style: styles.diagnosisSummary,\n          children: [_jsx(Text, {\n            style: styles.summaryTitle,\n            children: \"Resumen del diagn\\xF3stico:\"\n          }), _jsx(Text, {\n            style: styles.summaryText,\n            children: (_dsmData$disorders$se = dsmData.disorders[selectedDiagnosis]) == null ? void 0 : _dsmData$disorders$se.description\n          }), hypothesis.length > 0 && _jsx(View, {\n            style: styles.hypothesisInfo,\n            children: _jsxs(Text, {\n              style: styles.hypothesisText,\n              children: [\"Coincidencia con hip\\xF3tesis: \", Math.round(((_hypothesis$ = hypothesis[0]) == null ? void 0 : _hypothesis$.percentage) || 0), \"%\"]\n            })\n          })]\n        }), _jsx(TouchableOpacity, {\n          style: [styles.confirmButton, !selectedDiagnosis && styles.confirmButtonDisabled],\n          onPress: confirmDiagnosis,\n          disabled: !selectedDiagnosis,\n          children: _jsx(Text, {\n            style: styles.confirmButtonText,\n            children: \"Confirmar Diagn\\xF3stico\"\n          })\n        })]\n      })\n    });\n  };\n  var tabs = [{\n    id: 'symptoms',\n    title: 'S√≠ntomas',\n    icon: 'stethoscope'\n  }, {\n    id: 'hypothesis',\n    title: 'Hip√≥tesis',\n    icon: 'search'\n  }, {\n    id: 'batteries',\n    title: 'Bater√≠as',\n    icon: 'clipboard'\n  }, {\n    id: 'diagnose',\n    title: 'Diagnosticar',\n    icon: 'check-circle'\n  }];\n  if (!currentCase) {\n    return _jsx(View, {\n      style: styles.loadingContainer,\n      children: _jsx(Text, {\n        children: \"Cargando...\"\n      })\n    });\n  }\n  return _jsxs(LinearGradient, {\n    colors: ['#4A90E2', '#357abd'],\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      barStyle: \"light-content\",\n      backgroundColor: \"#4A90E2\"\n    }), _jsx(SafeAreaViewRN, {\n      style: styles.header,\n      children: _jsxs(View, {\n        style: styles.headerContent,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.backButton,\n          onPress: function onPress() {\n            return navigation.goBack();\n          },\n          children: _jsx(Icon, {\n            name: \"arrow-left\",\n            size: 20,\n            color: \"white\"\n          })\n        }), _jsxs(View, {\n          style: styles.headerInfo,\n          children: [_jsx(Text, {\n            style: styles.headerTitle,\n            children: \"Herramienta Diagn\\xF3stico\"\n          }), _jsxs(Text, {\n            style: styles.headerSubtitle,\n            children: [\"Caso: \", currentCase.patient.name]\n          })]\n        }), _jsx(TouchableOpacity, {\n          style: styles.headerButton,\n          children: _jsx(Icon, {\n            name: \"ellipsis-v\",\n            size: 20,\n            color: \"white\"\n          })\n        })]\n      })\n    }), _jsx(View, {\n      style: styles.tabsContainer,\n      children: _jsx(ScrollView, {\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        contentContainerStyle: styles.tabsContent,\n        children: tabs.map(function (tab) {\n          return _jsxs(TouchableOpacity, {\n            style: [styles.tab, activeTab === tab.id && styles.tabActive],\n            onPress: function onPress() {\n              return setActiveTab(tab.id);\n            },\n            children: [_jsx(Icon, {\n              name: tab.icon,\n              size: 16,\n              color: activeTab === tab.id ? 'white' : '#666',\n              style: styles.tabIcon\n            }), _jsx(Text, {\n              style: [styles.tabText, activeTab === tab.id && styles.tabTextActive],\n              children: tab.title\n            })]\n          }, tab.id);\n        })\n      })\n    }), _jsxs(View, {\n      style: styles.content,\n      children: [activeTab === 'symptoms' && renderSymptoms(), activeTab === 'hypothesis' && renderHypothesis(), activeTab === 'batteries' && renderBatteries(), activeTab === 'diagnose' && renderDiagnosis()]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  header: {\n    backgroundColor: '#4A90E2'\n  },\n  headerContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 10\n  },\n  backButton: {\n    padding: 8,\n    marginRight: 15\n  },\n  headerInfo: {\n    flex: 1\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: 'white',\n    fontFamily: 'System'\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: 'rgba(255, 255, 255, 0.8)',\n    fontFamily: 'System'\n  },\n  headerButton: {\n    padding: 8\n  },\n  tabsContainer: {\n    backgroundColor: '#f8f9fa',\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0'\n  },\n  tabsContent: {\n    flexDirection: 'row',\n    paddingHorizontal: 10\n  },\n  tab: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 15,\n    marginHorizontal: 5,\n    borderRadius: 20\n  },\n  tabActive: {\n    backgroundColor: '#4A90E2'\n  },\n  tabIcon: {\n    marginRight: 8\n  },\n  tabText: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#666',\n    fontFamily: 'System'\n  },\n  tabTextActive: {\n    color: 'white'\n  },\n  content: {\n    flex: 1,\n    backgroundColor: '#f8f9fa'\n  },\n  tabContent: {\n    flex: 1,\n    padding: 20\n  },\n  categorySection: {\n    marginBottom: 30\n  },\n  categoryTitle: {\n    fontSize: 20,\n    fontWeight: '700',\n    color: '#333',\n    marginBottom: 15,\n    fontFamily: 'System'\n  },\n  symptomsGrid: {\n    gap: 10\n  },\n  symptomButton: {\n    backgroundColor: 'white',\n    borderRadius: 25,\n    padding: 15,\n    borderWidth: 2,\n    borderColor: '#e0e0e0'\n  },\n  symptomButtonSelected: {\n    borderColor: '#4CAF50',\n    backgroundColor: '#e8f5e8'\n  },\n  symptomContent: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  symptomIcon: {\n    marginRight: 12\n  },\n  symptomText: {\n    fontSize: 16,\n    color: '#333',\n    fontFamily: 'System'\n  },\n  symptomTextSelected: {\n    color: '#2e7d32',\n    fontWeight: '600'\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingVertical: 60\n  },\n  emptyIcon: {\n    marginBottom: 20,\n    opacity: 0.5\n  },\n  emptyTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    color: '#666',\n    marginBottom: 8,\n    fontFamily: 'System'\n  },\n  emptySubtitle: {\n    fontSize: 16,\n    color: '#999',\n    textAlign: 'center',\n    fontFamily: 'System'\n  },\n  hypothesisCard: {\n    backgroundColor: 'white',\n    borderRadius: 15,\n    padding: 20,\n    marginBottom: 20,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4A90E2',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3\n  },\n  topMatchCard: {\n    borderLeftColor: '#FF4757',\n    shadowColor: '#FF4757',\n    shadowOpacity: 0.2\n  },\n  hypothesisHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginBottom: 15\n  },\n  hypothesisTitleContainer: {\n    flex: 1\n  },\n  hypothesisName: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 5,\n    fontFamily: 'System'\n  },\n  topMatchBadge: {\n    backgroundColor: '#FF4757',\n    paddingHorizontal: 10,\n    paddingVertical: 4,\n    borderRadius: 12,\n    alignSelf: 'flex-start',\n    marginTop: 5\n  },\n  topMatchText: {\n    color: 'white',\n    fontSize: 12,\n    fontWeight: '600',\n    fontFamily: 'System'\n  },\n  matchPercentage: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10\n  },\n  percentageBar: {\n    width: 80,\n    height: 8,\n    backgroundColor: '#e0e0e0',\n    borderRadius: 4,\n    overflow: 'hidden'\n  },\n  percentageFill: {\n    height: '100%',\n    backgroundColor: '#4CAF50',\n    borderRadius: 4\n  },\n  percentageText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#4A90E2',\n    minWidth: 35,\n    fontFamily: 'System'\n  },\n  hypothesisDescription: {\n    fontSize: 14,\n    color: '#666',\n    lineHeight: 20,\n    marginBottom: 15,\n    fontFamily: 'System'\n  },\n  hypothesisCriteria: {\n    flexDirection: 'row',\n    gap: 15,\n    marginBottom: 15\n  },\n  criteriaText: {\n    backgroundColor: '#e3f2fd',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: '#1976d2',\n    fontWeight: '500',\n    fontFamily: 'System'\n  },\n  durationText: {\n    backgroundColor: '#f8f9fa',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: '#666',\n    fontFamily: 'System'\n  },\n  matchingSymptoms: {\n    backgroundColor: '#e8f4f8',\n    padding: 12,\n    borderRadius: 10\n  },\n  symptomsLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#4A90E2',\n    marginBottom: 4,\n    fontFamily: 'System'\n  },\n  symptomsList: {\n    fontSize: 12,\n    color: '#555',\n    fontFamily: 'System'\n  },\n  batteryCard: {\n    backgroundColor: 'white',\n    borderRadius: 15,\n    padding: 20,\n    marginBottom: 20,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4CAF50',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3\n  },\n  batteryHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15\n  },\n  batteryName: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#333',\n    flex: 1,\n    fontFamily: 'System'\n  },\n  appliedBadge: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 10,\n    paddingVertical: 4,\n    borderRadius: 12\n  },\n  appliedText: {\n    color: 'white',\n    fontSize: 12,\n    fontWeight: '600',\n    fontFamily: 'System'\n  },\n  batteryDescription: {\n    fontSize: 14,\n    color: '#666',\n    lineHeight: 20,\n    marginBottom: 15,\n    fontFamily: 'System'\n  },\n  batteryMeta: {\n    flexDirection: 'row',\n    gap: 20,\n    marginBottom: 15\n  },\n  batteryType: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: 'white',\n    fontFamily: 'System'\n  },\n  batteryDuration: {\n    backgroundColor: '#f8f9fa',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: '#666',\n    fontFamily: 'System'\n  },\n  batteryResults: {\n    backgroundColor: '#e8f5e8',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 15,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4CAF50'\n  },\n  resultsLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#2e7d32',\n    marginBottom: 8,\n    fontFamily: 'System'\n  },\n  resultsText: {\n    fontSize: 14,\n    color: '#2e7d32',\n    fontFamily: 'System',\n    fontFamily: 'Courier New'\n  },\n  batteryButton: {\n    width: '100%',\n    paddingVertical: 12,\n    backgroundColor: '#4A90E2',\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  batteryButtonDisabled: {\n    backgroundColor: '#ccc'\n  },\n  batteryButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: 'white',\n    fontFamily: 'System'\n  },\n  batteryButtonTextDisabled: {\n    color: '#999'\n  },\n  diagnosisForm: {\n    padding: 20\n  },\n  diagnosisLabel: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 15,\n    fontFamily: 'System'\n  },\n  diagnosisSelect: {\n    gap: 10\n  },\n  diagnosisOption: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n    borderWidth: 2,\n    borderColor: '#e0e0e0'\n  },\n  diagnosisOptionSelected: {\n    borderColor: '#4A90E2',\n    backgroundColor: '#f8f9ff'\n  },\n  diagnosisOptionContent: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  diagnosisRadio: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    marginRight: 12,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  diagnosisRadioSelected: {\n    borderColor: '#4A90E2'\n  },\n  diagnosisRadioInner: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    backgroundColor: '#4A90E2'\n  },\n  diagnosisOptionText: {\n    fontSize: 16,\n    color: '#333',\n    fontFamily: 'System'\n  },\n  diagnosisSummary: {\n    backgroundColor: '#f8f9fa',\n    borderRadius: 10,\n    padding: 15,\n    marginTop: 20,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4A90E2'\n  },\n  summaryTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#4A90E2',\n    marginBottom: 10,\n    fontFamily: 'System'\n  },\n  summaryText: {\n    fontSize: 14,\n    color: '#666',\n    lineHeight: 20,\n    marginBottom: 10,\n    fontFamily: 'System'\n  },\n  hypothesisInfo: {\n    marginTop: 10\n  },\n  hypothesisText: {\n    fontSize: 14,\n    color: '#4CAF50',\n    fontWeight: '500',\n    fontFamily: 'System'\n  },\n  confirmButton: {\n    width: '100%',\n    paddingVertical: 15,\n    backgroundColor: '#4CAF50',\n    borderRadius: 10,\n    alignItems: 'center',\n    marginTop: 20\n  },\n  confirmButtonDisabled: {\n    backgroundColor: '#ccc'\n  },\n  confirmButtonText: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: 'white',\n    fontFamily: 'System'\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\nexport default DiagnosisScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","TouchableOpacity","StatusBar","LinearGradient","SafeAreaView","SafeAreaViewRN","useRoute","useNavigation","useApp","useAI","dsmData","testBatteries","Icon","jsx","_jsx","jsxs","_jsxs","DiagnosisScreen","route","navigation","_useApp","state","dispatch","_useAI","applyTestBattery","caseId","params","_useState","_useState2","_slicedToArray","currentCase","setCurrentCase","_useState3","_useState4","activeTab","setActiveTab","_useState5","_useState6","selectedSymptoms","setSelectedSymptoms","_useState7","_useState8","hypothesis","setHypothesis","_useState9","_useState0","selectedDiagnosis","setSelectedDiagnosis","case_","cases","find","c","id","updateHypothesis","toggleSymptom","symptom","newSymptoms","includes","filter","s","concat","_toConsumableArray","type","payload","updates","length","matches","Object","entries","disorders","forEach","_ref","_ref2","key","disorder","matchingSymptoms","symptoms","percentage","criteria","push","name","match","total","description","duration","sort","a","b","handleApplyBattery","_ref3","_asyncToGenerator","batteryId","result","batteryApplied","batteryResults","results","setTimeout","navigate","error","console","_x","apply","arguments","confirmDiagnosis","correct","patient","xpGained","sessions","status","diagnosis","diagnosisCorrect","renderSymptoms","style","styles","tabContent","children","categories","map","_ref4","_ref5","category","categorySection","categoryTitle","charAt","toUpperCase","slice","symptomsGrid","isSelected","symptomButton","symptomButtonSelected","onPress","symptomContent","size","color","symptomIcon","symptomText","symptomTextSelected","replace","renderHypothesis","emptyState","emptyIcon","emptyTitle","emptySubtitle","index","isTopMatch","hypothesisCard","topMatchCard","hypothesisHeader","hypothesisTitleContainer","hypothesisName","topMatchBadge","topMatchText","matchPercentage","percentageBar","percentageFill","width","Math","min","percentageText","round","hypothesisDescription","hypothesisCriteria","criteriaText","durationText","symptomsLabel","symptomsList","join","renderBatteries","battery","isApplied","batteryCard","batteryHeader","batteryName","appliedBadge","appliedText","batteryDescription","batteryMeta","batteryType","batteryDuration","resultsLabel","resultsText","batteryButton","batteryButtonDisabled","disabled","batteryButtonText","batteryButtonTextDisabled","renderDiagnosis","_dsmData$disorders$se","_hypothesis$","diagnosisForm","diagnosisLabel","diagnosisSelect","_ref6","_ref7","diagnosisOption","diagnosisOptionSelected","diagnosisOptionContent","diagnosisRadio","diagnosisRadioSelected","diagnosisRadioInner","diagnosisOptionText","diagnosisSummary","summaryTitle","summaryText","hypothesisInfo","hypothesisText","confirmButton","confirmButtonDisabled","confirmButtonText","tabs","title","icon","loadingContainer","colors","container","barStyle","backgroundColor","header","headerContent","backButton","goBack","headerInfo","headerTitle","headerSubtitle","headerButton","tabsContainer","horizontal","showsHorizontalScrollIndicator","contentContainerStyle","tabsContent","tab","tabActive","tabIcon","tabText","tabTextActive","content","create","flex","flexDirection","alignItems","paddingHorizontal","paddingVertical","padding","marginRight","fontSize","fontWeight","fontFamily","borderBottomWidth","borderBottomColor","marginHorizontal","borderRadius","marginBottom","gap","borderWidth","borderColor","justifyContent","opacity","textAlign","borderLeftWidth","borderLeftColor","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","alignSelf","marginTop","overflow","minWidth","lineHeight"],"sources":["C:/Users/macer/Desktop/MAC/APP/PSKYAT/PSYKAT3.0/react/src/screens/DiagnosisScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  FlatList,\n  Switch,\n  StatusBar,\n  SafeAreaView,\n} from 'react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { SafeAreaView as SafeAreaViewRN } from 'react-native-safe-area-context';\nimport { RouteProp, useRoute } from '@react-navigation/native';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport { useNavigation } from '@react-navigation/native';\nimport { useApp } from '../contexts/AppContext';\nimport { useAI } from '../contexts/AIContext';\nimport { RootStackParamList } from '../types/navigation';\nimport { dsmData, testBatteries } from '../data/mockData';\nimport Icon from 'react-native-vector-icons/FontAwesome';\n\ntype DiagnosisNavigationProp = StackNavigationProp<RootStackParamList, 'Diagnosis'>;\ntype DiagnosisRouteProp = RouteProp<RootStackParamList, 'Diagnosis'>;\n\nconst DiagnosisScreen: React.FC = () => {\n  const route = useRoute<DiagnosisRouteProp>();\n  const navigation = useNavigation<DiagnosisNavigationProp>();\n  const { state, dispatch } = useApp();\n  const { applyTestBattery } = useAI();\n  const { caseId } = route.params;\n  \n  const [currentCase, setCurrentCase] = useState<any>(null);\n  const [activeTab, setActiveTab] = useState<'symptoms' | 'hypothesis' | 'batteries' | 'diagnose'>('symptoms');\n  const [selectedSymptoms, setSelectedSymptoms] = useState<string[]>([]);\n  const [hypothesis, setHypothesis] = useState<any[]>([]);\n  const [selectedDiagnosis, setSelectedDiagnosis] = useState<string>('');\n\n  // Cargar caso actual\n  useEffect(() => {\n    const case_ = state.cases.find(c => c.id === caseId);\n    if (case_) {\n      setCurrentCase(case_);\n      setSelectedSymptoms(case_.selectedSymptoms || []);\n    }\n  }, [caseId, state.cases]);\n\n  // Actualizar hip√≥tesis cuando cambian los s√≠ntomas\n  useEffect(() => {\n    updateHypothesis();\n  }, [selectedSymptoms]);\n\n  // Alternar s√≠ntoma\n  const toggleSymptom = (symptom: string) => {\n    const newSymptoms = selectedSymptoms.includes(symptom)\n      ? selectedSymptoms.filter(s => s !== symptom)\n      : [...selectedSymptoms, symptom];\n    \n    setSelectedSymptoms(newSymptoms);\n    \n    // Actualizar caso\n    if (currentCase) {\n      dispatch({\n        type: 'UPDATE_CASE',\n        payload: {\n          id: currentCase.id,\n          updates: { selectedSymptoms: newSymptoms },\n        },\n      });\n    }\n  };\n\n  // Actualizar hip√≥tesis diagn√≥stica\n  const updateHypothesis = () => {\n    if (selectedSymptoms.length === 0) {\n      setHypothesis([]);\n      return;\n    }\n\n    const matches: any[] = [];\n    Object.entries(dsmData.disorders).forEach(([key, disorder]) => {\n      const matchingSymptoms = disorder.symptoms.filter(s => \n        selectedSymptoms.includes(s)\n      );\n      \n      if (matchingSymptoms.length > 0) {\n        const percentage = (matchingSymptoms.length / disorder.criteria) * 100;\n        matches.push({\n          id: key,\n          name: disorder.name,\n          match: matchingSymptoms.length,\n          total: disorder.criteria,\n          percentage: percentage,\n          symptoms: matchingSymptoms,\n          description: disorder.description,\n          duration: disorder.duration,\n        });\n      }\n    });\n\n    matches.sort((a, b) => b.percentage - a.percentage);\n    setHypothesis(matches);\n  };\n\n  // Aplicar bater√≠a de tests\n  const handleApplyBattery = async (batteryId: string) => {\n    if (!currentCase) return;\n\n    try {\n      const result = await applyTestBattery(batteryId);\n      \n      if (result) {\n        // Actualizar caso con bater√≠a aplicada\n        dispatch({\n          type: 'UPDATE_CASE',\n          payload: {\n            id: currentCase.id,\n            updates: {\n              batteryApplied: batteryId,\n              batteryResults: result.results,\n            },\n          },\n        });\n\n        // Navegar a chat para nueva sesi√≥n\n        setTimeout(() => {\n          navigation.navigate('Chat', { caseId: currentCase.id });\n        }, 2000);\n      }\n    } catch (error) {\n      console.error('Error aplicando bater√≠a:', error);\n    }\n  };\n\n  // Confirmar diagn√≥stico\n  const confirmDiagnosis = () => {\n    if (!selectedDiagnosis || !currentCase) return;\n\n    const correct = selectedDiagnosis === currentCase.patient.disorder;\n    \n    // Calcular XP\n    let xpGained = 50; // Base\n    if (correct) xpGained += 100;\n    if (currentCase.sessions >= 2) xpGained += 50;\n    if (currentCase.batteryApplied) xpGained += 30;\n    if (selectedSymptoms.length >= 3) xpGained += 20;\n\n    // Actualizar caso\n    dispatch({\n      type: 'UPDATE_CASE',\n      payload: {\n        id: currentCase.id,\n        updates: {\n          status: 'completed' as const,\n          diagnosis: selectedDiagnosis,\n          diagnosisCorrect: correct,\n        },\n      },\n    });\n\n    // A√±adir XP\n    dispatch({ type: 'ADD_XP', payload: xpGained });\n\n    // Navegar a resultados\n    navigation.navigate('Results', {\n      correct,\n      xpGained,\n      diagnosis: selectedDiagnosis,\n      caseId: currentCase.id,\n    });\n  };\n\n  // Renderizar s√≠ntomas\n  const renderSymptoms = () => (\n    <ScrollView style={styles.tabContent}>\n      {Object.entries(dsmData.categories).map(([category, symptoms]) => (\n        <View key={category} style={styles.categorySection}>\n          <Text style={styles.categoryTitle}>\n            {category.charAt(0).toUpperCase() + category.slice(1)}\n          </Text>\n          <View style={styles.symptomsGrid}>\n            {symptoms.map((symptom) => {\n              const isSelected = selectedSymptoms.includes(symptom);\n              return (\n                <TouchableOpacity\n                  key={symptom}\n                  style={[styles.symptomButton, isSelected && styles.symptomButtonSelected]}\n                  onPress={() => toggleSymptom(symptom)}\n                >\n                  <View style={styles.symptomContent}>\n                    <Icon\n                      name={isSelected ? 'check-circle' : 'circle'}\n                      size={20}\n                      color={isSelected ? '#4CAF50' : '#ccc'}\n                      style={styles.symptomIcon}\n                    />\n                    <Text style={[styles.symptomText, isSelected && styles.symptomTextSelected]}>\n                      {symptom.replace('_', ' ')}\n                    </Text>\n                  </View>\n                </TouchableOpacity>\n              );\n            })}\n          </View>\n        </View>\n      ))}\n    </ScrollView>\n  );\n\n  // Renderizar hip√≥tesis\n  const renderHypothesis = () => (\n    <ScrollView style={styles.tabContent}>\n      {hypothesis.length === 0 ? (\n        <View style={styles.emptyState}>\n          <Icon name=\"search\" size={60} color=\"#666\" style={styles.emptyIcon} />\n          <Text style={styles.emptyTitle}>Selecciona s√≠ntomas</Text>\n          <Text style={styles.emptySubtitle}>\n            Selecciona s√≠ntomas para ver hip√≥tesis diagn√≥sticas\n          </Text>\n        </View>\n      ) : (\n        hypothesis.map((match, index) => {\n          const isTopMatch = index === 0 && match.percentage >= 60;\n          return (\n            <View key={match.id} style={[styles.hypothesisCard, isTopMatch && styles.topMatchCard]}>\n              <View style={styles.hypothesisHeader}>\n                <View style={styles.hypothesisTitleContainer}>\n                  <Text style={styles.hypothesisName}>{match.name}</Text>\n                  {isTopMatch && (\n                    <View style={styles.topMatchBadge}>\n                      <Text style={styles.topMatchText}>üî• Principal</Text>\n                    </View>\n                  )}\n                </View>\n                <View style={styles.matchPercentage}>\n                  <View style={styles.percentageBar}>\n                    <View\n                      style={[styles.percentageFill, { width: `${Math.min(match.percentage, 100)}%` }]}\n                    />\n                  </View>\n                  <Text style={styles.percentageText}>{Math.round(match.percentage)}%</Text>\n                </View>\n              </View>\n              <Text style={styles.hypothesisDescription}>{match.description}</Text>\n              <View style={styles.hypothesisCriteria}>\n                <Text style={styles.criteriaText}>\n                  {match.match}/{match.total} criterios\n                </Text>\n                <Text style={styles.durationText}>Duraci√≥n: {match.duration}</Text>\n              </View>\n              <View style={styles.matchingSymptoms}>\n                <Text style={styles.symptomsLabel}>S√≠ntomas coincidentes:</Text>\n                <Text style={styles.symptomsList}>{match.symptoms.join(', ')}</Text>\n              </View>\n            </View>\n          );\n        })\n      )}\n    </ScrollView>\n  );\n\n  // Renderizar bater√≠as\n  const renderBatteries = () => (\n    <ScrollView style={styles.tabContent}>\n      {testBatteries.map((battery) => {\n        const isApplied = currentCase?.batteryApplied === battery.id;\n        return (\n          <View key={battery.id} style={styles.batteryCard}>\n            <View style={styles.batteryHeader}>\n              <Text style={styles.batteryName}>{battery.name}</Text>\n              {isApplied && (\n                <View style={styles.appliedBadge}>\n                  <Text style={styles.appliedText}>‚úì Aplicado</Text>\n                </View>\n              )}\n            </View>\n            <Text style={styles.batteryDescription}>{battery.description}</Text>\n            <View style={styles.batteryMeta}>\n              <Text style={styles.batteryType}>Tipo: {battery.type}</Text>\n              <Text style={styles.batteryDuration}>Duraci√≥n: {battery.duration}</Text>\n            </View>\n            \n            {currentCase?.batteryResults && isApplied && (\n              <View style={styles.batteryResults}>\n                <Text style={styles.resultsLabel}>Resultados:</Text>\n                <Text style={styles.resultsText}>{currentCase.batteryResults}</Text>\n              </View>\n            )}\n            \n            <TouchableOpacity\n              style={[styles.batteryButton, isApplied && styles.batteryButtonDisabled]}\n              onPress={() => handleApplyBattery(battery.id)}\n              disabled={isApplied}\n            >\n              <Text style={[styles.batteryButtonText, isApplied && styles.batteryButtonTextDisabled]}>\n                {isApplied ? 'Aplicado' : 'Aplicar bater√≠a'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        );\n      })}\n    </ScrollView>\n  );\n\n  // Renderizar diagn√≥stico\n  const renderDiagnosis = () => (\n    <ScrollView style={styles.tabContent}>\n      <View style={styles.diagnosisForm}>\n        <Text style={styles.diagnosisLabel}>Selecciona un diagn√≥stico DSM-5-TR:</Text>\n        \n        <View style={styles.diagnosisSelect}>\n          {Object.entries(dsmData.disorders).map(([key, disorder]) => (\n            <TouchableOpacity\n              key={key}\n              style={[\n                styles.diagnosisOption,\n                selectedDiagnosis === key && styles.diagnosisOptionSelected,\n              ]}\n              onPress={() => setSelectedDiagnosis(key)}\n            >\n              <View style={styles.diagnosisOptionContent}>\n                <View style={[\n                  styles.diagnosisRadio,\n                  selectedDiagnosis === key && styles.diagnosisRadioSelected,\n                ]}>\n                  {selectedDiagnosis === key && (\n                    <View style={styles.diagnosisRadioInner} />\n                  )}\n                </View>\n                <Text style={styles.diagnosisOptionText}>{disorder.name}</Text>\n              </View>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        {/* Resumen del diagn√≥stico */}\n        {selectedDiagnosis && (\n          <View style={styles.diagnosisSummary}>\n            <Text style={styles.summaryTitle}>Resumen del diagn√≥stico:</Text>\n            <Text style={styles.summaryText}>\n              {dsmData.disorders[selectedDiagnosis]?.description}\n            </Text>\n            \n            {hypothesis.length > 0 && (\n              <View style={styles.hypothesisInfo}>\n                <Text style={styles.hypothesisText}>\n                  Coincidencia con hip√≥tesis: {Math.round(hypothesis[0]?.percentage || 0)}%\n                </Text>\n              </View>\n            )}\n          </View>\n        )}\n\n        <TouchableOpacity\n          style={[styles.confirmButton, !selectedDiagnosis && styles.confirmButtonDisabled]}\n          onPress={confirmDiagnosis}\n          disabled={!selectedDiagnosis}\n        >\n          <Text style={styles.confirmButtonText}>Confirmar Diagn√≥stico</Text>\n        </TouchableOpacity>\n      </View>\n    </ScrollView>\n  );\n\n  // Tabs\n  const tabs = [\n    { id: 'symptoms', title: 'S√≠ntomas', icon: 'stethoscope' },\n    { id: 'hypothesis', title: 'Hip√≥tesis', icon: 'search' },\n    { id: 'batteries', title: 'Bater√≠as', icon: 'clipboard' },\n    { id: 'diagnose', title: 'Diagnosticar', icon: 'check-circle' },\n  ];\n\n  if (!currentCase) {\n    return (\n      <View style={styles.loadingContainer}>\n        <Text>Cargando...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <LinearGradient\n      colors={['#4A90E2', '#357abd']}\n      style={styles.container}\n    >\n      <StatusBar barStyle=\"light-content\" backgroundColor=\"#4A90E2\" />\n      \n      {/* Header */}\n      <SafeAreaViewRN style={styles.header}>\n        <View style={styles.headerContent}>\n          <TouchableOpacity\n            style={styles.backButton}\n            onPress={() => navigation.goBack()}\n          >\n            <Icon name=\"arrow-left\" size={20} color=\"white\" />\n          </TouchableOpacity>\n          <View style={styles.headerInfo}>\n            <Text style={styles.headerTitle}>Herramienta Diagn√≥stico</Text>\n            <Text style={styles.headerSubtitle}>Caso: {currentCase.patient.name}</Text>\n          </View>\n          <TouchableOpacity style={styles.headerButton}>\n            <Icon name=\"ellipsis-v\" size={20} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n      </SafeAreaViewRN>\n\n      {/* Tabs */}\n      <View style={styles.tabsContainer}>\n        <ScrollView\n          horizontal\n          showsHorizontalScrollIndicator={false}\n          contentContainerStyle={styles.tabsContent}\n        >\n          {tabs.map((tab) => (\n            <TouchableOpacity\n              key={tab.id}\n              style={[styles.tab, activeTab === tab.id && styles.tabActive]}\n              onPress={() => setActiveTab(tab.id as any)}\n            >\n              <Icon\n                name={tab.icon}\n                size={16}\n                color={activeTab === tab.id ? 'white' : '#666'}\n                style={styles.tabIcon}\n              />\n              <Text style={[styles.tabText, activeTab === tab.id && styles.tabTextActive]}>\n                {tab.title}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </ScrollView>\n      </View>\n\n      {/* Contenido */}\n      <View style={styles.content}>\n        {activeTab === 'symptoms' && renderSymptoms()}\n        {activeTab === 'hypothesis' && renderHypothesis()}\n        {activeTab === 'batteries' && renderBatteries()}\n        {activeTab === 'diagnose' && renderDiagnosis()}\n      </View>\n    </LinearGradient>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    backgroundColor: '#4A90E2',\n  },\n  headerContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n  },\n  backButton: {\n    padding: 8,\n    marginRight: 15,\n  },\n  headerInfo: {\n    flex: 1,\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: 'white',\n    fontFamily: 'System',\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: 'rgba(255, 255, 255, 0.8)',\n    fontFamily: 'System',\n  },\n  headerButton: {\n    padding: 8,\n  },\n  tabsContainer: {\n    backgroundColor: '#f8f9fa',\n    borderBottomWidth: 1,\n    borderBottomColor: '#e0e0e0',\n  },\n  tabsContent: {\n    flexDirection: 'row',\n    paddingHorizontal: 10,\n  },\n  tab: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 15,\n    marginHorizontal: 5,\n    borderRadius: 20,\n  },\n  tabActive: {\n    backgroundColor: '#4A90E2',\n  },\n  tabIcon: {\n    marginRight: 8,\n  },\n  tabText: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#666',\n    fontFamily: 'System',\n  },\n  tabTextActive: {\n    color: 'white',\n  },\n  content: {\n    flex: 1,\n    backgroundColor: '#f8f9fa',\n  },\n  tabContent: {\n    flex: 1,\n    padding: 20,\n  },\n  categorySection: {\n    marginBottom: 30,\n  },\n  categoryTitle: {\n    fontSize: 20,\n    fontWeight: '700',\n    color: '#333',\n    marginBottom: 15,\n    fontFamily: 'System',\n  },\n  symptomsGrid: {\n    gap: 10,\n  },\n  symptomButton: {\n    backgroundColor: 'white',\n    borderRadius: 25,\n    padding: 15,\n    borderWidth: 2,\n    borderColor: '#e0e0e0',\n  },\n  symptomButtonSelected: {\n    borderColor: '#4CAF50',\n    backgroundColor: '#e8f5e8',\n  },\n  symptomContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  symptomIcon: {\n    marginRight: 12,\n  },\n  symptomText: {\n    fontSize: 16,\n    color: '#333',\n    fontFamily: 'System',\n  },\n  symptomTextSelected: {\n    color: '#2e7d32',\n    fontWeight: '600',\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingVertical: 60,\n  },\n  emptyIcon: {\n    marginBottom: 20,\n    opacity: 0.5,\n  },\n  emptyTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    color: '#666',\n    marginBottom: 8,\n    fontFamily: 'System',\n  },\n  emptySubtitle: {\n    fontSize: 16,\n    color: '#999',\n    textAlign: 'center',\n    fontFamily: 'System',\n  },\n  hypothesisCard: {\n    backgroundColor: 'white',\n    borderRadius: 15,\n    padding: 20,\n    marginBottom: 20,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4A90E2',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  topMatchCard: {\n    borderLeftColor: '#FF4757',\n    shadowColor: '#FF4757',\n    shadowOpacity: 0.2,\n  },\n  hypothesisHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginBottom: 15,\n  },\n  hypothesisTitleContainer: {\n    flex: 1,\n  },\n  hypothesisName: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 5,\n    fontFamily: 'System',\n  },\n  topMatchBadge: {\n    backgroundColor: '#FF4757',\n    paddingHorizontal: 10,\n    paddingVertical: 4,\n    borderRadius: 12,\n    alignSelf: 'flex-start',\n    marginTop: 5,\n  },\n  topMatchText: {\n    color: 'white',\n    fontSize: 12,\n    fontWeight: '600',\n    fontFamily: 'System',\n  },\n  matchPercentage: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n  },\n  percentageBar: {\n    width: 80,\n    height: 8,\n    backgroundColor: '#e0e0e0',\n    borderRadius: 4,\n    overflow: 'hidden',\n  },\n  percentageFill: {\n    height: '100%',\n    backgroundColor: '#4CAF50',\n    borderRadius: 4,\n  },\n  percentageText: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#4A90E2',\n    minWidth: 35,\n    fontFamily: 'System',\n  },\n  hypothesisDescription: {\n    fontSize: 14,\n    color: '#666',\n    lineHeight: 20,\n    marginBottom: 15,\n    fontFamily: 'System',\n  },\n  hypothesisCriteria: {\n    flexDirection: 'row',\n    gap: 15,\n    marginBottom: 15,\n  },\n  criteriaText: {\n    backgroundColor: '#e3f2fd',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: '#1976d2',\n    fontWeight: '500',\n    fontFamily: 'System',\n  },\n  durationText: {\n    backgroundColor: '#f8f9fa',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: '#666',\n    fontFamily: 'System',\n  },\n  matchingSymptoms: {\n    backgroundColor: '#e8f4f8',\n    padding: 12,\n    borderRadius: 10,\n  },\n  symptomsLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#4A90E2',\n    marginBottom: 4,\n    fontFamily: 'System',\n  },\n  symptomsList: {\n    fontSize: 12,\n    color: '#555',\n    fontFamily: 'System',\n  },\n  batteryCard: {\n    backgroundColor: 'white',\n    borderRadius: 15,\n    padding: 20,\n    marginBottom: 20,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4CAF50',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  batteryHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  batteryName: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#333',\n    flex: 1,\n    fontFamily: 'System',\n  },\n  appliedBadge: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 10,\n    paddingVertical: 4,\n    borderRadius: 12,\n  },\n  appliedText: {\n    color: 'white',\n    fontSize: 12,\n    fontWeight: '600',\n    fontFamily: 'System',\n  },\n  batteryDescription: {\n    fontSize: 14,\n    color: '#666',\n    lineHeight: 20,\n    marginBottom: 15,\n    fontFamily: 'System',\n  },\n  batteryMeta: {\n    flexDirection: 'row',\n    gap: 20,\n    marginBottom: 15,\n  },\n  batteryType: {\n    backgroundColor: '#4CAF50',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: 'white',\n    fontFamily: 'System',\n  },\n  batteryDuration: {\n    backgroundColor: '#f8f9fa',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 12,\n    fontSize: 12,\n    color: '#666',\n    fontFamily: 'System',\n  },\n  batteryResults: {\n    backgroundColor: '#e8f5e8',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 15,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4CAF50',\n  },\n  resultsLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#2e7d32',\n    marginBottom: 8,\n    fontFamily: 'System',\n  },\n  resultsText: {\n    fontSize: 14,\n    color: '#2e7d32',\n    fontFamily: 'System',\n    fontFamily: 'Courier New',\n  },\n  batteryButton: {\n    width: '100%',\n    paddingVertical: 12,\n    backgroundColor: '#4A90E2',\n    borderRadius: 10,\n    alignItems: 'center',\n  },\n  batteryButtonDisabled: {\n    backgroundColor: '#ccc',\n  },\n  batteryButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: 'white',\n    fontFamily: 'System',\n  },\n  batteryButtonTextDisabled: {\n    color: '#999',\n  },\n  diagnosisForm: {\n    padding: 20,\n  },\n  diagnosisLabel: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 15,\n    fontFamily: 'System',\n  },\n  diagnosisSelect: {\n    gap: 10,\n  },\n  diagnosisOption: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n    borderWidth: 2,\n    borderColor: '#e0e0e0',\n  },\n  diagnosisOptionSelected: {\n    borderColor: '#4A90E2',\n    backgroundColor: '#f8f9ff',\n  },\n  diagnosisOptionContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  diagnosisRadio: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    marginRight: 12,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  diagnosisRadioSelected: {\n    borderColor: '#4A90E2',\n  },\n  diagnosisRadioInner: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    backgroundColor: '#4A90E2',\n  },\n  diagnosisOptionText: {\n    fontSize: 16,\n    color: '#333',\n    fontFamily: 'System',\n  },\n  diagnosisSummary: {\n    backgroundColor: '#f8f9fa',\n    borderRadius: 10,\n    padding: 15,\n    marginTop: 20,\n    borderLeftWidth: 4,\n    borderLeftColor: '#4A90E2',\n  },\n  summaryTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#4A90E2',\n    marginBottom: 10,\n    fontFamily: 'System',\n  },\n  summaryText: {\n    fontSize: 14,\n    color: '#666',\n    lineHeight: 20,\n    marginBottom: 10,\n    fontFamily: 'System',\n  },\n  hypothesisInfo: {\n    marginTop: 10,\n  },\n  hypothesisText: {\n    fontSize: 14,\n    color: '#4CAF50',\n    fontWeight: '500',\n    fontFamily: 'System',\n  },\n  confirmButton: {\n    width: '100%',\n    paddingVertical: 15,\n    backgroundColor: '#4CAF50',\n    borderRadius: 10,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  confirmButtonDisabled: {\n    backgroundColor: '#ccc',\n  },\n  confirmButtonText: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: 'white',\n    fontFamily: 'System',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default DiagnosisScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}